<!--
The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--socobo-profile-page-XY` |  | `{}`

@demo demo/index.html
-->
<dom-module id="socobo-profile-page">
  <style>
    :host {
      display: block;
    }
    .profile-container {
      @apply(--layout-horizontal);
      width: 100%;
      height: 100%
    }
    .profile-image-container {
      @apply(--layout-horizontal);
      @apply(--layout-center-justified);
      width: 20%;
      height: 900px; /*100%;*/
      margin: 0;
      background: -webkit-linear-gradient(#04212A, #062f3c);
      background: -o-linear-gradient(#04212A, #062f3c);
      background: -moz-linear-gradient(#04212A, #062f3c);
      background: linear-gradient(#04212A, #062f3c);
    }
    .profile-info-container {
      @apply(--layout-vertical);
      width: 80%;
      height: 100%;
      margin: 0;
    }
  </style>

  <template>
    <div class="profile-container">
      <div class="profile-image-container">
        <socobo-profile-image
          id="profileImage"
          image-source="{{userObject.profileImage}}"
          on-profile-image-changed="_handleProfileImageChanged">
        </socobo-profile-image>
      </div>

      <div class="profile-info-container">
        <socobo-profile-info
          id="profileInfo"
          user-object="{{userObject}}"
          on-change-email-address="_handleChangeEmailAddress"
          on-change-password="_handleChangePassword"
          on-reset-password="_handleResetPassword"
          on-delete-account="_handleDeleteAccount"
          on-passwords-not-matching="_handlePasswordsNotMatching">
        </socobo-profile-info>
      </div>
    </div>

    <paper-toast id="infoToast" duration="2000"></paper-toast>
  </template>
</dom-module>

<script>
  (function() {
    Polymer({
      is: 'socobo-profile-page',

      properties: {
        userLogin: {
          type: Object,
          value: {},
          notify: true
        },
        userObject: {
          type: Object,
          value: {},
          notify: true
        }
      },
      /**
       * PROFILE IMAGE
       */
      /**
       * Profile Image Changed
       * @param e
       * @private
       */
      _handleProfileImageChanged: function(e) {
        this.$.infoToast.text = e.detail.value;
        this.$.infoToast.toggle();
      },

      /**
       * PROFILE INFO
       */
      /**
       *
       * @param e
       * @private
       */
      _handleChangeEmailAddress: function(e){
        alert(JSON.stringify(e.detail));
      },

      /**
       *
       * @param e
       * @private
       */
      _handleChangePassword: function(e) {
        alert(JSON.stringify(e.detail));
      },

      /**
       *
       * @param e
       * @private
       */
      _handleResetPassword: function(e) {
        alert(JSON.stringify(e.detail));
      },

      /**
       *
       * @param e
       * @private
       */
      _handleDeleteAccount: function(e) {
        alert(JSON.stringify(e.detail));
      },

      /**
       *
       * @param e
       * @private
       */
      _handlePasswordsNotMatching: function(e) {
        this.$.infoToast.text = e.detail.value;
        this.$.infoToast.toggle();
      }
    });
  })();
</script>
